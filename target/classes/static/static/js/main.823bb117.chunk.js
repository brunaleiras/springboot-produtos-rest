(this.webpackJsonpfrontend2=this.webpackJsonpfrontend2||[]).push([[0],{25:function(e,t,a){e.exports=a(44)},30:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(12),l=a.n(r),i=(a(30),a(14)),c=a(8),s=a(9),u=a(10),m=a(11),d=a(53),h=a(54),p=a(55),f=a(49),g=a(56),v=a(50),E=a(51),b=a(23),y=a(45),S=a(46),j=a(47),O=a(48),C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={id:0,nome:"",quantidade:0,valor:0},e.onChange=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.submitFormAdd=function(t){t.preventDefault(),fetch("/produto/gravar",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:e.state.nome,quantidade:e.state.quantidade,valor:e.state.valor})}).then((function(e){return e.json()})).then((function(t){Array.isArray(t)?(e.props.addItemToState(t[0]),e.props.toggle()):console.log("failure")})).catch((function(e){return console.log(e)}))},e.submitFormEdit=function(t){t.preventDefault(),fetch("/produto/atualizar",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:e.state.nome,quantidade:e.state.quantidade,valor:e.state.valor})}).then((function(e){return e.json()})).then((function(t){Array.isArray(t)?(e.props.updateState(t[0]),e.props.toggle()):console.log("failure")})).catch((function(e){return console.log(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){if(this.props.item){var e=this.props.item,t=e.nome,a=e.quantidade,n=e.valor;this.setState({nome:t,quantidade:a,valor:n})}}},{key:"render",value:function(){return o.a.createElement(y.a,{onSubmit:this.props.item?this.submitFormEdit:this.submitFormAdd},o.a.createElement(S.a,null,o.a.createElement(j.a,{for:"first"},"Nome"),o.a.createElement(O.a,{type:"text",name:"nome",id:"nome",onChange:this.onChange,value:null===this.state.nome?"":this.state.nome})),o.a.createElement(S.a,null,o.a.createElement(j.a,{for:"last"},"Quantidade"),o.a.createElement(O.a,{type:"text",name:"quantidade",id:"quantidade",onChange:this.onChange,value:null===this.state.quantidade?"":this.state.quantidade})),o.a.createElement(S.a,null,o.a.createElement(j.a,{for:"email"},"Valor"),o.a.createElement(O.a,{type:"text",name:"valor",id:"valor",onChange:this.onChange,value:null===this.state.valor?"":this.state.valor})),o.a.createElement(f.a,null,"Submit"))}}]),a}(o.a.Component),I=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState((function(e){return{modal:!e.modal}}))},n.state={modal:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=o.a.createElement("button",{className:"close",onClick:this.toggle},"\xd7"),t=this.props.buttonLabel,a="",n="";return"Editar"===t?(a=o.a.createElement(f.a,{color:"warning",onClick:this.toggle,style:{float:"left",marginRight:"10px"}},t),n="Produto"):(a=o.a.createElement(f.a,{color:"success",onClick:this.toggle,style:{float:"left",marginRight:"10px"}},t),n="Adicionar Novo"),o.a.createElement("div",null,a,o.a.createElement(g.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},o.a.createElement(v.a,{toggle:this.toggle,close:e},n),o.a.createElement(E.a,null,o.a.createElement(C,{addItemToState:this.props.addItemToState,updateState:this.props.updateState,toggle:this.toggle,item:this.props.item}))))}}]),a}(n.Component),k=a(52),w=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).deleteItem=function(t){window.confirm("Tem certeza que deseja remover esse item?")&&fetch("/produto",{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((function(e){return e.json()})).then((function(a){e.props.deleteItemFromState(t)})).catch((function(e){return console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.items.map((function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("th",{scope:"row"},t.id),o.a.createElement("td",null,t.nome),o.a.createElement("td",null,t.quantidade),o.a.createElement("td",null,t.valor),o.a.createElement("td",null,o.a.createElement("div",{style:{width:"110px"}},o.a.createElement(I,{buttonLabel:"Editar",item:t,updateState:e.props.updateState})," ",o.a.createElement(f.a,{color:"danger",onClick:function(){return e.deleteItem(t.id)}},"Remover"))))}));return o.a.createElement(k.a,{responsive:!0,hover:!0},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"ID"),o.a.createElement("th",null,"Nome"),o.a.createElement("th",null,"Quantidade"),o.a.createElement("th",null,"Valor"),o.a.createElement("th",null,"A\xe7\xf5es"))),o.a.createElement("tbody",null,t))}}]),a}(n.Component),q=a(24),A=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={items:[]},e.addItemToState=function(t){e.setState((function(e){return{items:[].concat(Object(i.a)(e.items),[t])}}))},e.updateState=function(t){var a=e.state.items.findIndex((function(e){return e.id===t.id})),n=[].concat(Object(i.a)(e.state.items.slice(0,a)),[t],Object(i.a)(e.state.items.slice(a+1)));e.setState({items:n})},e.deleteItemFromState=function(t){var a=e.state.items.filter((function(e){return e.id!==t}));e.setState({items:a})},e}return Object(s.a)(a,[{key:"getItems",value:function(){var e=this;fetch("/produto").then((function(e){return e.json()})).then((function(t){return e.setState({items:t})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){this.getItems()}},{key:"render",value:function(){return o.a.createElement(d.a,{className:"App"},o.a.createElement(h.a,null,o.a.createElement(p.a,null,o.a.createElement("h1",{style:{margin:"20px 0"}},"CRUD Produtos - Bootstrap"))),o.a.createElement(h.a,null,o.a.createElement(p.a,null,o.a.createElement(w,{items:this.state.items,updateState:this.updateState,deleteItemFromState:this.deleteItemFromState}))),o.a.createElement(h.a,null,o.a.createElement(p.a,null,o.a.createElement(q.CSVLink,{filename:"db.csv",color:"primary",style:{float:"left",marginRight:"10px"},className:"btn btn-primary",data:this.state.items},"Gerar CSV"),o.a.createElement(I,{buttonLabel:"Adicionar Item",addItemToState:this.addItemToState}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(43);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.823bb117.chunk.js.map